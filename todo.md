# URouterOS 开发任务清单

## 已完成功能
- [x] 基础仪表盘页面
- [x] 网络管理页面
- [x] 容器管理页面
- [x] Docker Compose管理页面
- [x] 后端API集成

## 监控系统集成 (新增)
- [x] 配置Prometheus监控系统
- [x] 配置Grafana可视化平台
- [x] 开发自定义监控数据导出器
- [x] 创建Grafana仪表盘模板
- [x] 集成告警通知系统
- [x] 在Web界面中嵌入监控仪表盘
- [x] 编写监控系统文档

## 待开发功能
- [ ] 虚拟机管理页面
- [ ] 硬件监控详细页面
- [ ] 系统日志查看功能
- [ ] 配置备份和恢复
- [ ] 用户权限管理

## 自定义仪表盘创建向导 (新增)
- [x] 设计仪表盘创建向导交互流程
- [x] 开发拖拽编辑器组件
- [x] 实现图表类型选择器(折线图、柱状图、饼图等)
- [x] 集成数据源配置(Prometheus查询)
- [x] 实现仪表盘预览和保存功能
- [x] 支持仪表盘导出和导入

## 网络管理功能完善 (对标iStoreOS/OpenWrt)
- [x] 研究iStoreOS和OpenWrt的网络管理界面和功能
- [x] 完善网络接口配置(WAN/LAN/桥接/VLAN)
- [ ] 实现防火墙区域和规则配置
- [ ] 实现端口转发和NAT配置
- [ ] 完善DHCP服务器配置(地址池、静态租约)
- [ ] 完善DNS服务配置(转发、本地记录)
- [ ] 添加静态路由配置界面
- [ ] 添加网络诊断工具(ping/traceroute/nslookup)

## 防火墙配置功能 (新增)
- [x] 开发防火墙规则管理页面
- [x] 实现端口转发配置功能
- [x] 实现NAT规则配置功能(SNAT/DNAT/MASQUERADE)
- [x] 添加防火墙区域管理
- [x] 实现流量规则配置

## DHCP/DNS服务管理 (新增)
- [x] 开发DHCP服务管理页面
- [x] 实现DHCP地址池配置
- [x] 实现静态租约管理
- [x] 实现DNS转发配置
- [x] 实现本地DNS记录管理
- [x] 添加DHCP租约查看功能

## 系统设置功能 (新增)
- [x] 开发系统设置页面
- [x] 实现系统时间和时区配置
- [x] 实现界面语言切换(中文/英文)
- [x] 实现主题切换(浅色/深色模式)
- [x] 实现配置备份功能(导出JSON)
- [x] 实现配置恢复功能(导入JSON)
- [x] 添加系统重启和关机功能

## 网络诊断工具 (新增)
- [x] 开发网络诊断工具页面
- [x] 实现Ping工具(ICMP连通性测试)
- [x] 实现Traceroute工具(路由跟踪)
- [x] 实现端口扫描工具(TCP/UDP端口检测)
- [x] 添加DNS查询工具(Nslookup)
- [x] 实现实时输出和结果分析

## 网络诊断工具后端集成 (新增)
- [x] 开发后端诊断API接口(tRPC)
- [x] 实现Ping命令执行和结果解析
- [x] 实现Traceroute命令执行和结果解析
- [x] 实现端口扫描命令执行和结果解析
- [x] 实现DNS查询命令执行和结果解析
- [x] 前端集成真实API调用

## 网络诊断工具可视化优化 (新增)
- [x] 为Ping结果添加延迟趋势折线图
- [x] 为Ping统计添加可视化卡片展示
- [x] 为Traceroute结果添加路由路径可视化
- [x] 优化端口扫描结果的展示方式
- [x] 添加诊断结果的导出和分享功能

## 网络功能补齐 (对标iStoreOS)
- [x] 对比iStoreOS网络功能列表
- [x] 分析URouterOS缺失的功能

### 阶段一: 核心网络功能(高优先级)
- [x] 实现无线网络管理(WiFi 2.4GHz/5GHz配置)
- [x] 实现QoS流量控制(带宽限制和优先级)
- [x] 实现多WAN负载均衡(故障切换)
- [x] 实现VPN服务器(OpenVPN/WireGuard)
  - [x] OpenVPN服务器配置页面
  - [x] WireGuard服务器配置页面
  - [x] 证书管理和客户端配置生成
  - [x] 客户端连接状态监控
- [x] 实现IPv6完整支持
  - [x] IPv6地址配置页面
  - [x] IPv6防火墙规则
  - [x] DHCPv6服务配置
  - [x] IPv6路由通告(RA)

### 阶段二: 增强功能(中优先级)
- [x] 实现动态DNS(DDNS)配置
  - [x] DDNS服务提供商配置
  - [x] 域名和凭证管理
  - [x] 更新状态监控
- [x] 实现UPnP/NAT-PMP服务
  - [x] UPnP服务开关
  - [x] 端口映射列表
  - [x] 客户端设备管理
- [x] 实现流量统计功能
  - [x] 实时流量监控
  - [x] 历史流量统计
  - [x] 按设备/接口分组统计
- [x] 实现MAC地址管理(克隆/过滤/绑定)
  - [x] MAC地址过滤(ACL)
  - [x] MAC地址克隆
  - [x] MAC-IP绑定
- [x] 实现网络唤醒(WOL)
  - [x] 设备列表管理
  - [x] 发送魔术包
  - [x] 唤醒历史记录

### 阶段三: 高级功能(低优先级)
- [ ] 实现高级路由功能(策略路由)
- [ ] 实现网桥高级配置(STP/RSTP)
- [ ] 实现端口镜像功能
- [ ] 实现热点认证(Portal)

## 菜单结构重构 (新增)
- [x] 重构DashboardLayout侧边栏,实现二级菜单功能
- [x] 将网络相关功能整合到"网络管理"二级菜单下
- [x] 测试菜单展开/折叠交互

## 后端API集成 (新增)
- [x] 分析现有Python后端API结构
- [x] 扩展api-client.ts,添加所有网络管理API调用
- [x] 创建tRPC路由连接Python后端
- [x] 更新网络接口配置页面调用真实API
- [ ] 更新防火墙管理页面调用真实API
- [ ] 更新DHCP/DNS服务页面调用真实API
- [ ] 更新无线网络管理页面调用真实API
- [ ] 更新QoS流控页面调用真实API
- [ ] 更新多WAN负载均衡页面调用真实API
- [ ] 更新VPN服务器页面调用真实API
- [ ] 更新IPv6配置页面调用真实API
- [ ] 更新DDNS动态DNS页面调用真实API
- [ ] 更新UPnP服务页面调用真实API
- [ ] 更新流量统计页面调用真实API
- [ ] 更新MAC地址管理页面调用真实API
- [ ] 更新网络唤醒(WOL)页面调用真实API
- [ ] 更新容器管理页面调用真实API
- [ ] 更新虚拟机管理页面调用真实API
- [ ] 更新硬件监控页面调用真实API
- [ ] 测试所有API集成功能

## GitHub仓库和部署脚本 (新增)
- [x] 创建GitHub仓库URouterPanel
- [x] 上传前端代码到仓库
- [x] 上传Python后端代码到仓库
- [x] 创建一键式部署脚本(deploy.sh)
- [x] 创建systemd服务配置文件
- [x] 创建更新和重启脚本(update.sh)
- [x] 创建README部署文档
- [ ] 在Ubuntu VM上测试部署脚本
